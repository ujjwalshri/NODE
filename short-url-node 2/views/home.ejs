<!DOCTYPE html>
<html lang="en">
<head>
    <style>
        h1 {
            background-color: rgb(234, 146, 146);
            border-radius: 10%;
            border: 2px solid black;  
            font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif; 
        }
        #label {
            color: blue;
            font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
            font-size: x-large;
        }
        .input {
            font-size: x-large;
            background-color: rgba(220, 231, 245, 0.762);
        }
        .button {
            font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
            background-color: rgb(203, 203, 246);
            border-radius: 50%;
            height: 40px;
            width: 75px;
        }   
        table {
            border-collapse: collapse;
            width: 100%;
        }
        th, td {
            border: 1px solid black;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
    </style>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
   <h1>Welcome to Url Shortener Hey!! from server side</h1>
   <% if(locals.id) { %>
       <h1>URL Generated: <a href="http://localhost:8001/url/<%= locals.id %>">http://localhost:8001/url/<%= locals.id %></a></h1>
   <% } %>

   <form method="POST" action="/url">
       <label id="label">Enter the original url</label>
       <input class="input" type="text" name="url" required placeholder="http://example.com">
       <button class="button" type="submit">Generate</button>
   </form>
   <h1>History</h1>
   <div>
       <% if (locals.urls) { %>
           <table>
               <thead>
                   <tr>
                       <th>S.no</th>
                       <th>ShortID</th>
                       <th>Redirect</th>
                       <th>TotalClicks</th>
                   </tr>
               </thead>
               <tbody>
                   <% locals.urls.forEach((url, index) => { %>
                       <tr>
                           <td><%= index+1 %></td>
                           <td><%= url.shortId %></td>
                           <td><%= url.redirectURL %></td>
                           <td><%= url.visitHistory.length %></td>
                       </tr>
                   <% }); %>
               </tbody>
           </table>
       <% } %>
       
   </div>
</body>
</html>
